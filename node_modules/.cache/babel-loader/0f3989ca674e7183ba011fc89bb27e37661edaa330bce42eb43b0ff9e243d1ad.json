{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios,{AxiosRequestConfig,AxiosPromise,AxiosResponse}from'axios';import WeatherIcon from'./WeatherIcon';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function WeatherTable(_ref){let{coordinates}=_ref;const[weatherData,setWeatherData]=useState([]);const fetchWeather=()=>{if(coordinates&&coordinates.lat&&coordinates.lng){axios.get(\"http://localhost:8080/?latitude=\".concat(coordinates.lat,\"&longitude=\").concat(coordinates.lng)).then(response=>setWeatherData(response.data)).catch(error=>console.error('Error fetching weather data:',error));}};useEffect(()=>{fetchWeather();},[coordinates]);// Re-fetch whenever coordinates change\nif(!coordinates){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading coordinates...\"});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Weather Icon\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Max Temp (\\xB0C)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Min Temp (\\xB0C)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Estimated Energy (kWh)\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:weatherData.map((day,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:day.date}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(WeatherIcon,{code:day.weatherCode.toString()})}),/*#__PURE__*/_jsx(\"td\",{children:day.tempMax}),/*#__PURE__*/_jsx(\"td\",{children:day.tempMin}),/*#__PURE__*/_jsx(\"td\",{children:day.estimatedEnergy})]},index))})]})});}export default WeatherTable;","map":{"version":3,"names":["React","useEffect","useState","axios","AxiosRequestConfig","AxiosPromise","AxiosResponse","WeatherIcon","jsx","_jsx","jsxs","_jsxs","WeatherTable","_ref","coordinates","weatherData","setWeatherData","fetchWeather","lat","lng","get","concat","then","response","data","catch","error","console","children","map","day","index","date","code","weatherCode","toString","tempMax","tempMin","estimatedEnergy"],"sources":["/Users/mateuszmatyja/WeatherFrontend/src/components/WeatherTable.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios, { AxiosRequestConfig, AxiosPromise, AxiosResponse } from 'axios';\nimport WeatherIcon from './WeatherIcon';\n\nfunction WeatherTable({ coordinates }) {\n  const [weatherData, setWeatherData] = useState([]);\n\n  const fetchWeather = () => {\n    if (coordinates && coordinates.lat && coordinates.lng) {\n      axios.get(`http://localhost:8080/?latitude=${coordinates.lat}&longitude=${coordinates.lng}`)\n        .then(response => setWeatherData(response.data))\n        .catch(error => console.error('Error fetching weather data:', error));\n    }\n  };\n\n  useEffect(() => {\n    fetchWeather();\n  }, [coordinates]); // Re-fetch whenever coordinates change\n\n  if (!coordinates) {\n    return <p>Loading coordinates...</p>;\n  }\n\n  return (\n    <div>\n      <table>\n        <thead>\n          <tr>\n            <th>Date</th>\n            <th>Weather Icon</th>\n            <th>Max Temp (°C)</th>\n            <th>Min Temp (°C)</th>\n            <th>Estimated Energy (kWh)</th>\n          </tr>\n        </thead>\n        <tbody>\n          {weatherData.map((day, index) => (\n            <tr key={index}>\n              <td>{day.date}</td>\n              <td><WeatherIcon code={day.weatherCode.toString()} /></td>\n              <td>{day.tempMax}</td>\n              <td>{day.tempMin}</td>\n              <td>{day.estimatedEnergy}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default WeatherTable;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,EAAIC,kBAAkB,CAAEC,YAAY,CAAEC,aAAa,KAAQ,OAAO,CAC9E,MAAO,CAAAC,WAAW,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,QAAS,CAAAC,YAAYA,CAAAC,IAAA,CAAkB,IAAjB,CAAEC,WAAY,CAAC,CAAAD,IAAA,CACnC,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAElD,KAAM,CAAAe,YAAY,CAAGA,CAAA,GAAM,CACzB,GAAIH,WAAW,EAAIA,WAAW,CAACI,GAAG,EAAIJ,WAAW,CAACK,GAAG,CAAE,CACrDhB,KAAK,CAACiB,GAAG,oCAAAC,MAAA,CAAoCP,WAAW,CAACI,GAAG,gBAAAG,MAAA,CAAcP,WAAW,CAACK,GAAG,CAAE,CAAC,CACzFG,IAAI,CAACC,QAAQ,EAAIP,cAAc,CAACO,QAAQ,CAACC,IAAI,CAAC,CAAC,CAC/CC,KAAK,CAACC,KAAK,EAAIC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CAAC,CACzE,CACF,CAAC,CAEDzB,SAAS,CAAC,IAAM,CACdgB,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACH,WAAW,CAAC,CAAC,CAAE;AAEnB,GAAI,CAACA,WAAW,CAAE,CAChB,mBAAOL,IAAA,MAAAmB,QAAA,CAAG,wBAAsB,CAAG,CAAC,CACtC,CAEA,mBACEnB,IAAA,QAAAmB,QAAA,cACEjB,KAAA,UAAAiB,QAAA,eACEnB,IAAA,UAAAmB,QAAA,cACEjB,KAAA,OAAAiB,QAAA,eACEnB,IAAA,OAAAmB,QAAA,CAAI,MAAI,CAAI,CAAC,cACbnB,IAAA,OAAAmB,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBnB,IAAA,OAAAmB,QAAA,CAAI,kBAAa,CAAI,CAAC,cACtBnB,IAAA,OAAAmB,QAAA,CAAI,kBAAa,CAAI,CAAC,cACtBnB,IAAA,OAAAmB,QAAA,CAAI,wBAAsB,CAAI,CAAC,EAC7B,CAAC,CACA,CAAC,cACRnB,IAAA,UAAAmB,QAAA,CACGb,WAAW,CAACc,GAAG,CAAC,CAACC,GAAG,CAAEC,KAAK,gBAC1BpB,KAAA,OAAAiB,QAAA,eACEnB,IAAA,OAAAmB,QAAA,CAAKE,GAAG,CAACE,IAAI,CAAK,CAAC,cACnBvB,IAAA,OAAAmB,QAAA,cAAInB,IAAA,CAACF,WAAW,EAAC0B,IAAI,CAAEH,GAAG,CAACI,WAAW,CAACC,QAAQ,CAAC,CAAE,CAAE,CAAC,CAAI,CAAC,cAC1D1B,IAAA,OAAAmB,QAAA,CAAKE,GAAG,CAACM,OAAO,CAAK,CAAC,cACtB3B,IAAA,OAAAmB,QAAA,CAAKE,GAAG,CAACO,OAAO,CAAK,CAAC,cACtB5B,IAAA,OAAAmB,QAAA,CAAKE,GAAG,CAACQ,eAAe,CAAK,CAAC,GALvBP,KAML,CACL,CAAC,CACG,CAAC,EACH,CAAC,CACL,CAAC,CAEV,CAEA,cAAe,CAAAnB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}