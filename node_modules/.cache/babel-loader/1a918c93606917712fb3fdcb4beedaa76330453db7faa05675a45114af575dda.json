{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import WeatherIcon from'./WeatherIcon';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function WeatherTable(_ref){let{coordinates}=_ref;const[weatherData,setWeatherData]=useState([]);const fetchWeather=()=>{if(coordinates&&coordinates.lat&&coordinates.lng){axios.get(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/?latitude=\").concat(coordinates.lat,\"&longitude=\").concat(coordinates.lng)).then(response=>setWeatherData(response.data)).catch(error=>console.error('Error fetching weather data:',error));}};useEffect(()=>{fetchWeather();},[coordinates]);// Re-fetch whenever coordinates change\nif(!coordinates){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading coordinates...\"});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Weather Icon\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Max Temp (\\xB0C)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Min Temp (\\xB0C)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Estimated Energy (kWh)\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:weatherData.map((day,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:day.date}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(WeatherIcon,{code:day.weatherCode.toString()})}),/*#__PURE__*/_jsx(\"td\",{children:day.tempMax}),/*#__PURE__*/_jsx(\"td\",{children:day.tempMin}),/*#__PURE__*/_jsx(\"td\",{children:day.estimatedEnergy})]},index))})]})});}export default WeatherTable;","map":{"version":3,"names":["React","useEffect","useState","axios","WeatherIcon","jsx","_jsx","jsxs","_jsxs","WeatherTable","_ref","coordinates","weatherData","setWeatherData","fetchWeather","lat","lng","get","concat","process","env","REACT_APP_BACKEND_URL","then","response","data","catch","error","console","children","map","day","index","date","code","weatherCode","toString","tempMax","tempMin","estimatedEnergy"],"sources":["/Users/mateuszmatyja/WeatherFrontend/src/components/WeatherTable.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport WeatherIcon from './WeatherIcon';\n\nfunction WeatherTable({ coordinates }) {\n  const [weatherData, setWeatherData] = useState([]);\n\n  const fetchWeather = () => {\n    if (coordinates && coordinates.lat && coordinates.lng) {\n      axios.get(`${process.env.REACT_APP_BACKEND_URL}/?latitude=${coordinates.lat}&longitude=${coordinates.lng}`)\n        .then(response => setWeatherData(response.data))\n        .catch(error => console.error('Error fetching weather data:', error));\n    }\n  };\n\n  useEffect(() => {\n    fetchWeather();\n  }, [coordinates]); // Re-fetch whenever coordinates change\n\n  if (!coordinates) {\n    return <p>Loading coordinates...</p>;\n  }\n\n  return (\n    <div>\n      <table>\n        <thead>\n          <tr>\n            <th>Date</th>\n            <th>Weather Icon</th>\n            <th>Max Temp (°C)</th>\n            <th>Min Temp (°C)</th>\n            <th>Estimated Energy (kWh)</th>\n          </tr>\n        </thead>\n        <tbody>\n          {weatherData.map((day, index) => (\n            <tr key={index}>\n              <td>{day.date}</td>\n              <td><WeatherIcon code={day.weatherCode.toString()} /></td>\n              <td>{day.tempMax}</td>\n              <td>{day.tempMin}</td>\n              <td>{day.estimatedEnergy}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default WeatherTable;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,WAAW,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,QAAS,CAAAC,YAAYA,CAAAC,IAAA,CAAkB,IAAjB,CAAEC,WAAY,CAAC,CAAAD,IAAA,CACnC,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAElD,KAAM,CAAAY,YAAY,CAAGA,CAAA,GAAM,CACzB,GAAIH,WAAW,EAAIA,WAAW,CAACI,GAAG,EAAIJ,WAAW,CAACK,GAAG,CAAE,CACrDb,KAAK,CAACc,GAAG,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,qBAAqB,gBAAAH,MAAA,CAAcP,WAAW,CAACI,GAAG,gBAAAG,MAAA,CAAcP,WAAW,CAACK,GAAG,CAAE,CAAC,CACxGM,IAAI,CAACC,QAAQ,EAAIV,cAAc,CAACU,QAAQ,CAACC,IAAI,CAAC,CAAC,CAC/CC,KAAK,CAACC,KAAK,EAAIC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CAAC,CACzE,CACF,CAAC,CAEDzB,SAAS,CAAC,IAAM,CACda,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACH,WAAW,CAAC,CAAC,CAAE;AAEnB,GAAI,CAACA,WAAW,CAAE,CAChB,mBAAOL,IAAA,MAAAsB,QAAA,CAAG,wBAAsB,CAAG,CAAC,CACtC,CAEA,mBACEtB,IAAA,QAAAsB,QAAA,cACEpB,KAAA,UAAAoB,QAAA,eACEtB,IAAA,UAAAsB,QAAA,cACEpB,KAAA,OAAAoB,QAAA,eACEtB,IAAA,OAAAsB,QAAA,CAAI,MAAI,CAAI,CAAC,cACbtB,IAAA,OAAAsB,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBtB,IAAA,OAAAsB,QAAA,CAAI,kBAAa,CAAI,CAAC,cACtBtB,IAAA,OAAAsB,QAAA,CAAI,kBAAa,CAAI,CAAC,cACtBtB,IAAA,OAAAsB,QAAA,CAAI,wBAAsB,CAAI,CAAC,EAC7B,CAAC,CACA,CAAC,cACRtB,IAAA,UAAAsB,QAAA,CACGhB,WAAW,CAACiB,GAAG,CAAC,CAACC,GAAG,CAAEC,KAAK,gBAC1BvB,KAAA,OAAAoB,QAAA,eACEtB,IAAA,OAAAsB,QAAA,CAAKE,GAAG,CAACE,IAAI,CAAK,CAAC,cACnB1B,IAAA,OAAAsB,QAAA,cAAItB,IAAA,CAACF,WAAW,EAAC6B,IAAI,CAAEH,GAAG,CAACI,WAAW,CAACC,QAAQ,CAAC,CAAE,CAAE,CAAC,CAAI,CAAC,cAC1D7B,IAAA,OAAAsB,QAAA,CAAKE,GAAG,CAACM,OAAO,CAAK,CAAC,cACtB9B,IAAA,OAAAsB,QAAA,CAAKE,GAAG,CAACO,OAAO,CAAK,CAAC,cACtB/B,IAAA,OAAAsB,QAAA,CAAKE,GAAG,CAACQ,eAAe,CAAK,CAAC,GALvBP,KAML,CACL,CAAC,CACG,CAAC,EACH,CAAC,CACL,CAAC,CAEV,CAEA,cAAe,CAAAtB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}