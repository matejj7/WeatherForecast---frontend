{"ast":null,"code":"import React,{useState,useEffect}from'react';import WeatherTable from'./components/WeatherTable';import MapView from'./components/MapView';import'./App.css';import axios,{AxiosRequestConfig,AxiosPromise,AxiosResponse}from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[weatherData,setWeatherData]=useState([]);const[inputCoordinates,setInputCoordinates]=useState({lat:'',lng:''});// Początkowo puste stringi\nconst[darkMode,setDarkMode]=useState(false);const[error,setError]=useState('');// Adding error state\nuseEffect(()=>{document.body.className=darkMode?'dark-mode':'light-mode';},[darkMode]);const fetchWeather=()=>{if(inputCoordinates.lat&&inputCoordinates.lng){axios.get(\"http://localhost:8080/?latitude=\".concat(inputCoordinates.lat,\"&longitude=\").concat(inputCoordinates.lng)).then(response=>setWeatherData(response.data)).catch(error=>console.error('Error fetching weather data:',error));}};useEffect(()=>{if(inputCoordinates.lat&&inputCoordinates.lng){fetchWeather();}},[inputCoordinates]);// Dodaj inputCoordinates jako zależność\nconst handleSubmit=e=>{e.preventDefault();if(validateCoordinates()){fetchWeather();}else{setError('Please enter valid latitude and longitude values.');}};const handleInputChange=(e,type)=>{const{value}=e.target;const numValue=value===''?'':parseFloat(value);if(!isNaN(numValue)||value===''){setInputCoordinates(prev=>({...prev,[type]:numValue}));}};const validateCoordinates=()=>{return inputCoordinates.lat>=-90&&inputCoordinates.lat<=90&&inputCoordinates.lng>=-180&&inputCoordinates.lng<=180;};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[\"Weather Forecast\",/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDarkMode(!darkMode),children:\"Toggle Dark Mode\"})]}),/*#__PURE__*/_jsx(MapView,{onCoordinatesChange:setInputCoordinates}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:inputCoordinates.lat===''?'':inputCoordinates.lat,onChange:e=>handleInputChange(e,'lat'),placeholder:\"Enter latitude\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:inputCoordinates.lng===''?'':inputCoordinates.lng,onChange:e=>handleInputChange(e,'lng'),placeholder:\"Enter longitude\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Get Weather\"})]}),/*#__PURE__*/_jsx(WeatherTable,{coordinates:inputCoordinates})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","WeatherTable","MapView","axios","AxiosRequestConfig","AxiosPromise","AxiosResponse","jsx","_jsx","jsxs","_jsxs","App","weatherData","setWeatherData","inputCoordinates","setInputCoordinates","lat","lng","darkMode","setDarkMode","error","setError","document","body","className","fetchWeather","get","concat","then","response","data","catch","console","handleSubmit","e","preventDefault","validateCoordinates","handleInputChange","type","value","target","numValue","parseFloat","isNaN","prev","children","onClick","onCoordinatesChange","onSubmit","onChange","placeholder","coordinates"],"sources":["/Users/mateuszmatyja/WeatherFrontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport WeatherTable from './components/WeatherTable';\nimport MapView from './components/MapView';\nimport './App.css';\nimport axios, { AxiosRequestConfig, AxiosPromise, AxiosResponse } from 'axios';\n\nfunction App() {\n  const [weatherData, setWeatherData] = useState([]);\n  const [inputCoordinates, setInputCoordinates] = useState({ lat: '', lng: '' }); // Początkowo puste stringi\n  const [darkMode, setDarkMode] = useState(false);\n  const [error, setError] = useState(''); // Adding error state\n\n  useEffect(() => {\n    document.body.className = darkMode ? 'dark-mode' : 'light-mode';\n  }, [darkMode]);\n\n  const fetchWeather = () => {\n    if (inputCoordinates.lat && inputCoordinates.lng) {\n      axios.get(`http://localhost:8080/?latitude=${inputCoordinates.lat}&longitude=${inputCoordinates.lng}`)\n        .then(response => setWeatherData(response.data))\n        .catch(error => console.error('Error fetching weather data:', error));\n    }\n  };\n\n  useEffect(() => {\n    if (inputCoordinates.lat && inputCoordinates.lng) {\n      fetchWeather();\n    }\n  }, [inputCoordinates]); // Dodaj inputCoordinates jako zależność\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (validateCoordinates()) {\n      fetchWeather();\n    } else {\n      setError('Please enter valid latitude and longitude values.');\n    }\n  };\n\n  const handleInputChange = (e, type) => {\n    const { value } = e.target;\n    const numValue = value === '' ? '' : parseFloat(value);\n    if (!isNaN(numValue) || value === '') {\n      setInputCoordinates(prev => ({\n        ...prev,\n        [type]: numValue\n      }));\n    }\n  };\n\n  const validateCoordinates = () => {\n    return (\n      inputCoordinates.lat >= -90 && inputCoordinates.lat <= 90 &&\n      inputCoordinates.lng >= -180 && inputCoordinates.lng <= 180\n    );\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        Weather Forecast\n        <button onClick={() => setDarkMode(!darkMode)}>Toggle Dark Mode</button>\n      </header>\n      <MapView onCoordinatesChange={setInputCoordinates} />\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"number\"\n          value={inputCoordinates.lat === '' ? '' : inputCoordinates.lat}\n          onChange={e => handleInputChange(e, 'lat')}\n          placeholder=\"Enter latitude\"\n        />\n        <input type=\"number\"\n          value={inputCoordinates.lng === '' ? '' : inputCoordinates.lng}\n          onChange={e => handleInputChange(e, 'lng')}\n          placeholder=\"Enter longitude\"\n        />\n        <button type=\"submit\">Get Weather</button>\n      </form>\n      <WeatherTable coordinates={inputCoordinates} />\n    </div>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}