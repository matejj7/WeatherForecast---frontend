{"ast":null,"code":"import{LeafletProvider,createContainerComponent,createControlHook,createElementHook,createElementObject,extendContext,useLeafletContext}from'@react-leaflet/core';import{Control}from'leaflet';import React,{useCallback,useEffect,useMemo,useRef,useState}from'react';export const useLayersControlElement=createElementHook(function createLayersControl(_ref,ctx){let{children:_c,...options}=_ref;const control=new Control.Layers(undefined,undefined,options);return createElementObject(control,extendContext(ctx,{layersControl:control}));},function updateLayersControl(control,props,prevProps){if(props.collapsed!==prevProps.collapsed){if(props.collapsed===true){control.collapse();}else{control.expand();}}});export const useLayersControl=createControlHook(useLayersControlElement);// @ts-ignore\nexport const LayersControl=createContainerComponent(useLayersControl);export function createControlledLayer(addLayerToControl){return function ControlledLayer(props){const parentContext=useLeafletContext();const propsRef=useRef(props);const[layer,setLayer]=useState(null);const{layersControl,map}=parentContext;const addLayer=useCallback(layerToAdd=>{if(layersControl!=null){if(propsRef.current.checked){map.addLayer(layerToAdd);}addLayerToControl(layersControl,layerToAdd,propsRef.current.name);setLayer(layerToAdd);}},[layersControl,map]);const removeLayer=useCallback(layerToRemove=>{layersControl===null||layersControl===void 0?void 0:layersControl.removeLayer(layerToRemove);setLayer(null);},[layersControl]);const context=useMemo(()=>{return extendContext(parentContext,{layerContainer:{addLayer,removeLayer}});},[parentContext,addLayer,removeLayer]);useEffect(()=>{if(layer!==null&&propsRef.current!==props){if(props.checked===true&&(propsRef.current.checked==null||propsRef.current.checked===false)){map.addLayer(layer);}else if(propsRef.current.checked===true&&(props.checked==null||props.checked===false)){map.removeLayer(layer);}propsRef.current=props;}});return props.children?/*#__PURE__*/React.createElement(LeafletProvider,{value:context},props.children):null;};}LayersControl.BaseLayer=createControlledLayer(function addBaseLayer(layersControl,layer,name){layersControl.addBaseLayer(layer,name);});LayersControl.Overlay=createControlledLayer(function addOverlay(layersControl,layer,name){layersControl.addOverlay(layer,name);});","map":{"version":3,"names":["LeafletProvider","createContainerComponent","createControlHook","createElementHook","createElementObject","extendContext","useLeafletContext","Control","React","useCallback","useEffect","useMemo","useRef","useState","useLayersControlElement","createLayersControl","_ref","ctx","children","_c","options","control","Layers","undefined","layersControl","updateLayersControl","props","prevProps","collapsed","collapse","expand","useLayersControl","LayersControl","createControlledLayer","addLayerToControl","ControlledLayer","parentContext","propsRef","layer","setLayer","map","addLayer","layerToAdd","current","checked","name","removeLayer","layerToRemove","context","layerContainer","createElement","value","BaseLayer","addBaseLayer","Overlay","addOverlay"],"sources":["/Users/mateuszmatyja/WeatherFrontend/src/node_modules/react-leaflet/lib/LayersControl.js"],"sourcesContent":["import { LeafletProvider, createContainerComponent, createControlHook, createElementHook, createElementObject, extendContext, useLeafletContext } from '@react-leaflet/core';\nimport { Control } from 'leaflet';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nexport const useLayersControlElement = createElementHook(function createLayersControl({ children: _c , ...options }, ctx) {\n    const control = new Control.Layers(undefined, undefined, options);\n    return createElementObject(control, extendContext(ctx, {\n        layersControl: control\n    }));\n}, function updateLayersControl(control, props, prevProps) {\n    if (props.collapsed !== prevProps.collapsed) {\n        if (props.collapsed === true) {\n            control.collapse();\n        } else {\n            control.expand();\n        }\n    }\n});\nexport const useLayersControl = createControlHook(useLayersControlElement);\n// @ts-ignore\nexport const LayersControl = createContainerComponent(useLayersControl);\nexport function createControlledLayer(addLayerToControl) {\n    return function ControlledLayer(props) {\n        const parentContext = useLeafletContext();\n        const propsRef = useRef(props);\n        const [layer, setLayer] = useState(null);\n        const { layersControl , map  } = parentContext;\n        const addLayer = useCallback((layerToAdd)=>{\n            if (layersControl != null) {\n                if (propsRef.current.checked) {\n                    map.addLayer(layerToAdd);\n                }\n                addLayerToControl(layersControl, layerToAdd, propsRef.current.name);\n                setLayer(layerToAdd);\n            }\n        }, [\n            layersControl,\n            map\n        ]);\n        const removeLayer = useCallback((layerToRemove)=>{\n            layersControl?.removeLayer(layerToRemove);\n            setLayer(null);\n        }, [\n            layersControl\n        ]);\n        const context = useMemo(()=>{\n            return extendContext(parentContext, {\n                layerContainer: {\n                    addLayer,\n                    removeLayer\n                }\n            });\n        }, [\n            parentContext,\n            addLayer,\n            removeLayer\n        ]);\n        useEffect(()=>{\n            if (layer !== null && propsRef.current !== props) {\n                if (props.checked === true && (propsRef.current.checked == null || propsRef.current.checked === false)) {\n                    map.addLayer(layer);\n                } else if (propsRef.current.checked === true && (props.checked == null || props.checked === false)) {\n                    map.removeLayer(layer);\n                }\n                propsRef.current = props;\n            }\n        });\n        return props.children ? /*#__PURE__*/ React.createElement(LeafletProvider, {\n            value: context\n        }, props.children) : null;\n    };\n}\nLayersControl.BaseLayer = createControlledLayer(function addBaseLayer(layersControl, layer, name) {\n    layersControl.addBaseLayer(layer, name);\n});\nLayersControl.Overlay = createControlledLayer(function addOverlay(layersControl, layer, name) {\n    layersControl.addOverlay(layer, name);\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}